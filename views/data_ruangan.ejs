<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title text-lg">Data Ruangan</h3>
          <button
            class="btn btn-primary float-right"
            type="button"
            data-toggle="modal"
            data-target="#modal_tambah"
          >
            Tambah Data
          </button>
        </div>
        <!-- /.card-header -->
        <div class="card-body">
          <table id="dataTables" class="table-bordered table-striped table">
            <thead>
              <tr>
                <th>No</th>
                <th>Nama Ruangan</th>
                <th>Kepala Ruangan</th>
                <th>Lokasi Ruangan</th>
                <th width="125px">Opsi</th>
              </tr>
            </thead>
            <tbody>
              <% data_ruangan.forEach((data, no) => {no++ %>
              <tr>
                <td><%= no %></td>
                <td><%= data.nama_ruangan %></td>
                <td><%= data.kepala_ruangan %></td>
                <td><%= data.lokasi_ruangan %></td>
                <td>
                  <button
                    class="btn btn-warning"
                    type="button"
                    data-toggle="modal"
                    data-target="#modal_ubah<%= no %>"
                  >
                    Ubah
                  </button>
                  <form
                    action="/ruangan?_method=DELETE"
                    method="post"
                    class="d-inline hapus_form"
                  >
                    <input
                      type="hidden"
                      name="id_ruangan"
                      value="<%= data.id_ruangan %>"
                    />
                    <input
                      type="hidden"
                      name="nama"
                      value="<%= data.nama_ruangan %>"
                    />
                    <button
                      class="btn btn-danger tbl_hapus"
                      type="submit"
                      id="button_hapus"
                    >
                      Hapus
                    </button>
                  </form>
                </td>
              </tr>
              <!-- Modal Ubah -->
              <div
                class="modal fade"
                id="modal_ubah<%= no %>"
                tabindex="-1"
                aria-labelledby="exampleModalLabel"
                aria-hidden="true"
              >
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">
                        Ubah Data Ruangan
                      </h5>
                      <button
                        type="button"
                        class="close"
                        data-dismiss="modal"
                        aria-label="Close"
                      >
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <form method="post" action="/ruangan?_method=PUT">
                      <input
                        type="hidden"
                        value="<%= data.id_ruangan %>"
                        name="id_ruangan"
                      />
                      <input
                        type="hidden"
                        value="<%= data.nama_ruangan %>"
                        name="oldNama"
                      />
                      <div class="modal-body">
                        <div class="form-group">
                          <label for="nama_ruangan">Nama Ruangan</label>
                          <input
                            type="text"
                            class="form-control"
                            id="nama_ruangan"
                            placeholder="Masukan Nama Ruangan"
                            name="nama_ruangan"
                            required
                            value="<%= data.nama_ruangan %>"
                          />
                          <label for="kepala_ruangan">Kepala Ruangan</label>
                          <input
                            type="text"
                            class="form-control"
                            id="kepala_ruangan"
                            placeholder="Masukan Nama Kepala Ruangan"
                            name="kepala_ruangan"
                            required
                            value="<%= data.kepala_ruangan %>"
                          />
                          <label for="lokasi_ruangan">Lokasi Ruangan</label>
                          <input
                            type="text"
                            class="form-control"
                            id="lokasi_ruangan"
                            placeholder="Masukan Lokasi Ruangan"
                            name="lokasi_ruangan"
                            required
                            value="<%= data.lokasi_ruangan %>"
                          />
                        </div>
                      </div>
                      <div class="modal-footer">
                        <button type="reset" class="btn btn-secondary">
                          Atur Ulang
                        </button>
                        <button type="submit" class="btn btn-primary">
                          Ubah
                        </button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
              <% }) %>
            </tbody>
          </table>
        </div>
        <!-- /.card-body -->

        <!-- Modal Tambah -->
        <div
          class="modal fade"
          id="modal_tambah"
          tabindex="-1"
          aria-labelledby="exampleModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">
                  Tambah Data Ruangan
                </h5>
                <button
                  type="button"
                  class="close"
                  data-dismiss="modal"
                  aria-label="Close"
                >
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <form action="/ruangan" method="post">
                <div class="modal-body">
                  <div class="form-group">
                    <label for="nama_ruangan">Nama Ruangan</label>
                    <input
                      type="text"
                      class="form-control"
                      id="nama_ruangan"
                      placeholder="Masukan Nama Ruangan"
                      name="nama_ruangan"
                      required
                    />
                    <label for="kepala_ruangan">Kepala Ruangan</label>
                    <input
                      type="text"
                      class="form-control"
                      id="kepala_ruangan"
                      placeholder="Masukan Nama Kepala Ruangan"
                      name="kepala_ruangan"
                      required
                    />
                    <label for="lokasi_ruangan">Lokasi Ruangan</label>
                    <input
                      type="text"
                      class="form-control"
                      id="lokasi_ruangan"
                      placeholder="Masukan Lokasi Ruangan"
                      name="lokasi_ruangan"
                      required
                    />
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="reset" class="btn btn-secondary">
                    Bersihkan
                  </button>
                  <button type="submit" class="btn btn-primary">Tambah</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
